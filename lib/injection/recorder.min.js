void function(){if(window.jcameras_player&&(window.jcameras_player.end(),window.jcameras_player.clear()),window.jcameras_recorder)window.jcameras_recorder.start();else{var o={},e=this&&this.__assign||Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};o.events=["mousemove","mousedown","mouseup","contextmenu","click","dblclick","mousewheel"];var t=function(){function t(t){void 0===t&&(t={});var c=this;this.startAt=null,this.lastRecord=null,this.handleEvent=function(t){if(c.options.onRecord){for(var e=t.type,o=t.target;o&&o.nodeType!==Node.ELEMENT_NODE;)o=o.parentNode;var n=o;if(!c.options.onFilter||c.options.onFilter(n)){var i=Date.now()-c.startAt,r=n.getBoundingClientRect(),s=t.clientX-r.left,a=t.clientY-r.top,d={type:e,target:n,position:{x:s,y:a,tx:s/r.width,ty:a/r.height},time:i,button:t.which||(1&t.button?1:2&t.button?3:4&t.button?2:0)},u=function(t){t&&!t.fired&&(c.options.onRecord(t),t.fired=!0)};if(c.timer&&(clearTimeout(c.timer),c.timer=null),"mousewheel"===e&&(d.deltaX=t.deltaX,d.deltaY=t.deltaY),0<=["mousemove","mousewheel"].indexOf(e)){if(!c.lastRecord)return u(d),void(c.lastRecord=d);if(c.lastRecord.target===d.target&&c.lastRecord.button===d.button&&i-c.lastRecord.time<=c.options.thinning)return void(c.timer=setTimeout(function(){c.timer=null,c.lastRecord=null,u(d)},c.options.thinning))}u(c.lastRecord),c.lastRecord=null,u(d)}}},this.options=e({thinning:200},t)}return t.prototype.start=function(){var e=this;this.startAt=Date.now(),this.options.onStart&&this.options.onStart(),o.events.forEach(function(t){document.addEventListener(t,e.handleEvent)})},t.prototype.end=function(){var e=this;this.startAt=null,this.options.onEnd&&this.options.onEnd(),o.events.forEach(function(t){document.removeEventListener(t,e.handleEvent)})},t}(),n=function(){function t(t){this.options=e({tags:{}},t),"string"==typeof this.options.tags&&(this.options.tags=this.options.tags.split(/[\s,]+/).reduce(function(t,e,o){var n=String.fromCharCode(65+o);return t[e]=n,t[n]=e,t},{}))}return t.prototype.get=function(t){if(t===document.documentElement)return"html";if(t===document.body)return"body";var e="";t.parentNode&&t.parentNode!==document.body&&(e=this.get(t.parentNode));var o=1;if(t.previousSibling)for(var n=t.previousSibling;1===n.nodeType&&n.nodeName==t.nodeName&&o++,n=n.previousSibling;);if(1===t.nodeType){var i=t.nodeName.toLowerCase(),r=this.options.tags[i];e+=""+(r||(e?"-":"")+i)+(1===o?"":o)}return e},t.prototype.query=function(t){var a=this,d=document.body;return t&&"body"!==t?"html"===t?document.documentElement:(t.replace(/([A-Z]|h[1-6]|[a-z]+)(\d*)/g,function(t,e,o){if(!d)return"";o=o||1;for(var n=d.getElementsByTagName(/[A-Z]/.test(e)?a.options.tags[e]:e),i=0,r=n.length;i<r;i++){var s=n[i];if(s.parentNode===d&&!--o){d=s;break}}o&&(d=null)}),d):d},t}(),i={cursor:0,rows:[]},r=new n({}),s=new t({onRecord:function(t){i.rows.push({type:t.type,path:r.get(t.target),time:t.time,position:t.position,button:t.button}),sessionStorage[document.location.href]=JSON.stringify(i)}});s.start(),window.jcameras_recorder=s}}();