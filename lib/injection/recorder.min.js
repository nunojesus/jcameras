void function(){if(window.jcameras_player&&(window.jcameras_player.end(),window.jcameras_player.clear()),window.jcameras_recorder)window.jcameras_recorder.start();else{var o={},e=this&&this.__assign||Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};o.events=["mousemove","mousedown","mouseup","contextmenu","click","dblclick","mousewheel","scroll"];var t=function(){function t(t){void 0===t&&(t={});var d=this;this.startAt=null,this.lastRecord=null,this.handleEvent=function(t){if(d.options.onRecord){for(var e=t.type,o=t.target;o&&[Node.DOCUMENT_NODE,Node.ELEMENT_NODE].indexOf(o.nodeType)<0;)o=o.parentNode;var n=o;if(!d.options.onFilter||d.options.onFilter(n)){var r,i=Date.now()-d.startAt;if("scroll"===e){r={type:e,time:i,target:n,scrollLeft:document.documentElement.scrollLeft,scrollTop:document.documentElement.scrollTop}}else{var s=n.getBoundingClientRect(),a=t.clientX-s.left,l=t.clientY-s.top;r={type:e,target:n,position:{x:a,y:l,tx:a/s.width,ty:l/s.height},time:i,button:t.which||(1&t.button?1:2&t.button?3:4&t.button?2:0)}}var c=function(t){t&&!t.fired&&(d.options.onRecord(t),t.fired=!0)};if(d.timer&&(clearTimeout(d.timer),d.timer=null),"mousewheel"===e&&(r.deltaX=t.deltaX,r.deltaY=t.deltaY),0<=["mousemove","mousewheel"].indexOf(e)){if(!d.lastRecord)return c(r),void(d.lastRecord=r);if(d.lastRecord.target===r.target&&d.lastRecord.button===r.button&&i-d.lastRecord.time<=d.options.thinning)return void(d.timer=setTimeout(function(){d.timer=null,d.lastRecord=null,c(r)},d.options.thinning))}c(d.lastRecord),d.lastRecord=null,c(r)}}},this.options=e({thinning:200},t)}return t.prototype.start=function(){var e=this;this.startAt=Date.now(),this.options.onStart&&this.options.onStart(),o.events.forEach(function(t){document.addEventListener(t,e.handleEvent)})},t.prototype.end=function(){var e=this;this.startAt=null,this.options.onEnd&&this.options.onEnd(),o.events.forEach(function(t){document.removeEventListener(t,e.handleEvent)})},t}(),n=function(){function t(t){this.options=e({tags:{}},t),"string"==typeof this.options.tags&&(this.options.tags=this.options.tags.trim().split(/[\s,]+/).reduce(function(t,e,o){var n=String.fromCharCode(65+o);return t[e]=n,t[n]=e,t},{}))}return t.prototype.get=function(t){if(!t)return"";if(t===document.documentElement)return"html";if(t===document.body)return"body";var e="";t.parentNode&&t.parentNode!==document.body&&(e=this.get(t.parentNode));var o=1;if(t.previousSibling)for(var n=t.previousSibling;1===n.nodeType&&n.nodeName==t.nodeName&&o++,n=n.previousSibling;);if(1===t.nodeType){var r=t.nodeName.toLowerCase(),i=this.options.tags[r];e+=""+(i||(e?"-":"")+r)+(1===o?"":o)}return e},t.prototype.query=function(t){var a=this,l=document.body;return t&&"body"!==t?"html"===t?document.documentElement:(t.replace(/([A-Z]|h[1-6]|[a-z]+)(\d*)/g,function(t,e,o){if(!l)return"";o=o||1;for(var n=l.getElementsByTagName(/[A-Z]/.test(e)?a.options.tags[e]:e),r=0,i=n.length;r<i;r++){var s=n[r];if(s.parentNode===l&&!--o){l=s;break}}o&&(l=null)}),l):l},t}(),r={cursor:0,rows:[]},i=new n({}),s=new t({onRecord:function(t){"scroll"===t.type?r.rows.push({type:t.type,path:i.get(t.target),time:t.time,scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}):r.rows.push({type:t.type,path:i.get(t.target),time:t.time,position:t.position,button:t.button}),sessionStorage[document.location.href]=JSON.stringify(r)}});s.start(),window.jcameras_recorder=s}}();